<!DOCTYPE html>
<html>
  <head>
    <title> Ariana's Web Page </title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel = "javasheet" href = "" type =
  </head>

  <body>
    <h2> <center> Welcome to Ariana's Web Page </center> </h2>

    <div align = "left" id = "first">
      We're playing Simon!
      <button class = "luck" id = "lucky" type= "button">
          Click for good luck :)
      </button>
     </div>

    <br>
    <br>
    <div class = "simon">
      <br>
      <br>
      <center>
      <div class = "display" id= "display">
        Welcome! Click the start button to begin!
      </div>
      <button class = "start" id = "start">
        Start
      </button>
      </center>


      <br>
      <center>
      <button class = "green unclickable" id = "GreenButton">
          Green
      </button>
      <button class = "yellow unclickable" id = "YellowButton">
        Yellow
      </button>
      <button class = "red unclickable" id = "RedButton">
        Red
      </button>
      <button class = "blue unclickable" id = "BlueButton">
        Blue
      </button>
      <center>
    </div>
  </body>

  <script>
  let firstBox = document.getElementById ("first");
  let luck = document.getElementById("lucky")
  luck.addEventListener ('click', loser)

  function loser()
  {
    firstBox.innerHTML = "Ha. As if. Simon is a test of intellectual prowess, not luck. You just made a fool of yourself."
  }
  let greenButtonPageElement = document.getElementById("GreenButton");
  let yellowButtonPageElement = document.getElementById("YellowButton");
  let redButtonPageElement = document.getElementById("RedButton");
  let blueButtonPageElement = document.getElementById("BlueButton");

  let startButtonPageElement = document.getElementById("start");
  startButtonPageElement.addEventListener ("click", (event) => {

    startGame();

});

  let displayPageElement = document.getElementById("display");

  let level = 0;
  let solutions= [];
  let answer= [];
  let won = false;
  let flashCount = 0;
  let computerTurn = true;
  let computerFlashInterval;

  function startGame()
  {
    console.log ('game started');
    startButtonPageElement.classList.add('hidden');
    displayPageElement.innerHTML = ("Buttons will now flash...get ready");

    won = false;
    solutions = [];
    answer = [];
    flashCount=0;
    level = 1;
    resetColor();
    computerFlashInterval = 0;

    fillSolutions();

    computerFlashInterval = setInterval(computerPlay, 1000);

  }

  function computerPlay()
  {
    console.log ('computerPlay() entered');

    computerTurn = true;

    greenButtonPageElement.classList.add('unclickable');
    yellowButtonPageElement.classList.add('unclickable');
    redButtonPageElement.classList.add('unclickable');
    blueButtonPageElement.classList.add('unclickable');

    if (level == flashCount)
    {
      clearInterval(computerFlashInterval);
      resetColor();
      computerTurn = false;
      greenButtonPageElement.classList.remove('unclickable');
      yellowButtonPageElement.classList.remove('unclickable');
      redButtonPageElement.classList.remove('unclickable');
      blueButtonPageElement.classList.remove('unclickable');
    }
    else
    {
      resetColor();
      setTimeout(() => {
        lightAColor();
      }, 200);
    }
  }
  function lightAColor()
  {
    console.log ('lightAColor() entered');
    if (solutions[flashCount] == 1)
    {
      lightGreen();
    }
    else if (solutions[flashCount] == 2)
    {
      lightYellow();
    }
    else if (solutions[flashCount] == 3)
    {
      lightRed();
    }
    else
    {
      lightBlue();
    }
    flashCount++;
  }
  function resetColor()
  {
    greenButtonPageElement.classList.remove('litGreen');
    yellowButtonPageElement.classList.remove('litYellow');
    redButtonPageElement.classList.remove('litRed');
    blueButtonPageElement.classList.remove('litBlue');
  }

  function fillSolutions()
  {
    console.log ('fillSolutions() entered');
    for (var i = 0; i<10; i++)
    {
      solutions.push (Math.floor(Math.random() *4 + 1));
    }
    console.log (solutions);
  }

  function lightGreen()
  {
      greenButtonPageElement.classList.add('litGreen');
      console.log ('new green light up');
  }
  function lightYellow()
  {
      yellowButtonPageElement.classList.add('litYellow');
      console.log ('new yellow light up');
  }
  function lightRed()
  {
      redButtonPageElement.classList.add('litRed');
      console.log ('new red light up');
  }
  function lightBlue()
  {
      blueButtonPageElement.classList.add('litBlue');
      console.log ('new blue light up');
  }

  greenButtonPageElement.addEventListener('click', greenClick);
  function greenClick()
  {
    if (computerTurn == false)
    {
        answer.push(1);
        if (1 !== solutions[answer.length - 1])
        {
          displayPageElement.innerHTML= ("No, that was wrong unfortunately.")
          setTimeout(() => {
              resetGame();
          }, 1500);
        }
        else
        {
          lightGreen();
          setTimeout(() => {
              resetColor();
          }, 300);
          if (answer.length == 10)
          {
            win();
          }
          else if (answer.length == level)
          {
            level++;
            answer = [];
            comuterTurn = true;
            flashCount = 0;
            computerFlashInterval = setInterval(computerPlay, 1000);
          }
        }
      }
  }

  yellowButtonPageElement.addEventListener('click', yellowClick);
  function yellowClick()
  {
    if (computerTurn == false) {
        answer.push(2);
        if (2 !== solutions[answer.length - 1])
        {
          displayPageElement.innerHTML= ("No, that was wrong unfortunately.")
          setTimeout(() => {
              resetGame();
          }, 1500);
        }
        else
        {
          lightYellow();
          setTimeout(() => {
              resetColor();
          }, 300);
          if (answer.length == 10)
          {
            win();
          }
          else if (answer.length == level)
          {
            level++;
            answer = [];
            comuterTurn = true;
            flashCount = 0;
            computerFlashInterval = setInterval(computerPlay, 1000);
          }
        }
      }
  }

  redButtonPageElement.addEventListener('click', redClick);
  function redClick()
  {
    if (computerTurn == false) {
        answer.push(3);
        if (3 !== solutions[answer.length - 1])
        {
          displayPageElement.innerHTML= ("No, that was wrong unfortunately.")
          setTimeout(() => {
              resetGame();
          }, 1500);
        }
        else
        {
          lightRed();
          setTimeout(() => {
              resetColor();
          }, 300);
          if (answer.length == 10)
          {
            win();
          }
          else if (answer.length == level)
          {
            level++;
            answer = [];
            comuterTurn = true;
            flashCount = 0;
            computerFlashInterval = setInterval(computerPlay, 1000);
          }
        }
      }
  }

  blueButtonPageElement.addEventListener('click', blueClick);
  function blueClick()
  {
    if (computerTurn == false)
    {
        answer.push(4);
        if (4 !== solutions[answer.length - 1])
        {
          displayPageElement.innerHTML= ("No, that was wrong unfortunately.")
          setTimeout(() => {
              resetGame();
          }, 1500);
        }
        else
        {
          lightBlue();
          setTimeout(() => {resetColor();}, 300);
          if (answer.length == 10)
          {
            win();
          }
          else if (answer.length == level)
          {
            level++;
            answer = [];
            comuterTurn = true;
            flashCount = 0;
            computerFlashInterval = setInterval(computerPlay, 1000);
          }
        }

      }
    }

    function win()
    {
      won = true;
      displayPageElement.innerHTML= ("You won!!");
      setTimeout(() => {resetGame();
      }, 2000);
    }

    function resetGame()
    {
      displayPageElement.innerHTML = ("Click the start button to begin!");
      startButtonPageElement.classList.remove('hidden');
    }

  </script>

</html>
