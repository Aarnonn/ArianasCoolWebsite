<!DOCTYPE html>
<html>
  <head>
    <title> Ariana's Web Page </title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel = "javasheet" href = "" type =
  </head>

  <body>
    <h2> <center> Hello. </center> </h2>

    <div id = "first">
      We're playing Simon!
      <button type= "button">
          Click for good luck :)
      </button>
    </div>
    <div id = "second">
      Here's another box.
    </div>
    <div id = "third">
      Here's a third box.
    </div>


    <div class = "simon">
      <div class = "display" id= "display">
        Welcome! Click the start button to begin!
      </div>
      <button class = "start" id = "start">
        Start
      </button>
      <button class = "green unclickable" id = "GreenButton">
          Green
      </button>
      <button class = "yellow unclickable" id = "YellowButton">
        Yellow
      </button>
      <button class = "red unclickable" id = "RedButton">
        Red
      </button>
      <button class = "blue unclickable" id = "BlueButton">
        Blue
      </button>

    </div>
  </body>

  <script>

  var greenButtonPageElement = document.getElementById("GreenButton");
  var yellowButtonPageElement = document.getElementById("YellowButton");
  var redButtonPageElement = document.getElementById("RedButton");
  var blueButtonPageElement = document.getElementById("BlueButton");

  var startButtonPageElement = document.getElementById("start");
  startButtonPageElement.addEventListener ("click", startGame);
  var displayPageElement = document.getElementById("display");

  var counter = 0;
  var solutions= [];
  var answer= [];

  function startGame()
  {
    startButtonPageElement.classList.add('hidden');
    displayPageElement.innerHTML = ("Buttons will now flash...get ready");
    newLevel();

  }

  function newLevel()
  {
    counter += 1;

    greenButtonPageElement.classList.add('unclickable');
    yellowButtonPageElement.classList.add('unclickable');
    redButtonPageElement.classList.add('unclickable');
    blueButtonPageElement.classList.add('unclickable');

    solutions.push (randomTile);

    lightUp(solutions);

    setTimeout(() => {userTurn (counter);}, counter * 600 + 1000);


  }

  function userTurn(level)
  {
    var currIndex = 0;

    greenButtonPageElement.classList.remove('unclickable');
    yellowButtonPageElement.classList.remove('unclickable');
    redButtonPageElement.classList.remove('unclickable');
    blueButtonPageElement.classList.remove('unclickable');

    greenButtonPageElement.addEventListener ("click", userClick ('green', currIndex));
    yellowButtonPageElement.addEventListener ("click", userClick('yellow', currIndex));
    redButtonPageElement.addEventListener ("click", userClick('red', currIndex));
    blueButtonPageElement.addEventListener ("click", userClick('blue', currIndex));
  }

  function userClick (color, index)
  {
    if (color !== solutions [index])
    {
      displayPageElement.innerHTML = ("No. Wrong. Bad.");
      resetGame();
    }
    else if (color == solutions [index]&& (answer.length !== solutions.length))
    {
      displayPageElement.innerHTML = ("Nice, keep going.");
    }
    else
    {
      newLevel();
    }
  }
  function lightUp (sequence)
  {
    sequence.forEach((color, index) => {
    setTimeout(() => {

      if (color == 'green')
      {
        changeGreen();

      }
      else if (color == 'yellow')
      {
        changeYellow();

      }
      else if (color == 'red')
      {
        changeRed();
      }
      else
      {
        changeBlue();
      }
    }, (index + 1) * 600);
  });
  }
  function randomTile ()
  {
    min = Math.ceil(1);
    max = Math.floor(5);
    var ran= Math.floor(Math.random() * (max - min) + min);

    if (ran == 1)
    {
      return ('green');

    }
    else if (ran ==2)
    {
      return ('yellow');

    }
    else if (ran == 3)
    {
      return ('red');

    }
    else
    {
      return ('blue');
    }
  }

  function resetGame()
  {
    solutions = [];
    answer = [];

    startButtonPageElement.classList.remove('hidden');
  }

  function changeGreen()
  {
    if (greenButtonPageElement.classList.contains('green'))
    {
      greenButtonPageElement.classList.remove('green');
      greenButtonPageElement.classList.add('litGreen');
      greenButtonPageElement.classList.add('on');
      greenButtonPageElement.classList.remove('on');
    }
    else
    {
      greenButtonPageElement.classList.remove('litGreen');
      greenButtonPageElement.classList.add('green');
    }
    console.log ('new green color change');
  }
  function changeYellow()
  {
    if (yellowButtonPageElement.classList.contains('yellow'))
    {
      yellowButtonPageElement.classList.remove('yellow');
      yellowButtonPageElement.classList.add('litYellow');
      yellowButtonPageElement.classList.add('on');


    }
    else
    {
      yellowButtonPageElement.classList.remove('litYellow');
      yellowButtonPageElement.classList.add('yellow');
      yellowButtonPageElement.classList.remove('on');
    }
    console.log ('new yellow color change');
  }
  function changeRed()
  {
    if (redButtonPageElement.classList.contains('red'))
    {
      redButtonPageElement.classList.remove('red');
      redButtonPageElement.classList.add('litRed');
      redButtonPageElement.classList.add('on');

    }
    else
    {
      redButtonPageElement.classList.remove('litRed');
      redButtonPageElement.classList.add('red');
      redButtonPageElement.classList.remove('on');

    }
    console.log ('new red color change');
  }
  function changeBlue()
  {
    if (blueButtonPageElement.classList.contains('blue'))
    {
      blueButtonPageElement.classList.remove('blue');
      blueButtonPageElement.classList.add('litBlue');
      blueButtonPageElement.classList.add('on');

    }
    else
    {
      blueButtonPageElement.classList.remove('litBlue');
      blueButtonPageElement.classList.add('blue');
      blueButtonPageElement.classList.remove('on');

    }
    console.log ('new blue color change');
  }









//    document.getElementById("GreenButton").addEventListener("click", function()
//  {
//    console.log ('green button was clicked');
//  });

  </script>

</html>
